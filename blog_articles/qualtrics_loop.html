<!DOCTYPE HTML>
<!--
Telephasic by HTML5 UP
html5up.net | @ajlkn
Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>
  <title>Roshni Kaushik</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/main.css" />
</head>
<body class="no-sidebar is-preload">
  <div id="page-wrapper">

    <!-- Header -->
    <div id="header-wrapper">
      <div id="header" class="container">

        <!-- Logo -->
        <h1 id="logo"><a href="../index.html">Roshni Kaushik</a></h1>

        <!-- Nav -->
        <nav id="nav">
          <ul>
            <li>
              <a href="experience.html">Experience</a>
            </li>
            <li>
              <a href="research.html">Research</a>
            </li>
            <li class="break">
              <a href="educationskills.html">Education/Skills</a>
            </li>
            <li>
              <a href="blog.html">Blog</a>
            </li>
          </ul>
        </nav>

      </div>
    </div>

    <!-- Main -->
    <div class="wrapper">
      <div class="container" id="main">

        <!-- Content -->
        <article id="content">
          <header>
            <h2>Multiple Stimuli, One Question using Qualtrics</h2>
          </header>

          <p>Do you have a set of stimuli (images, videos, etc.) that you want to ask your participants about? Qualtrics has a useful <strong>Loop and Merge</strong> feature that can allow you to do that. Here is how to set it up.</p>

          <p>Note that this tutorial assumes a working knowledge of Qualtrics, which has great documentation for any general questions you have.</p>

          <h2><a id="Step_1_Upload_your_stimuli_to_your_Qualtrics_Library_7"></a>Step 1: Upload your stimuli to your Qualtrics Library</h2>

          <p>If your images or videos are already stored on the cloud and are accessible via a URL, skip this step.</p>

          <p>Let us say you have a set of videos labeled <code>001.mp4</code>, <code>002.mp4</code>, and so on. You should first go to the <code>Library</code> Tab at the top of Qualtrics and then click on the <code>Files Library</code> Tab.</p>

          <p>I prefer to create a folder using the button on the left to store all my files for a particular survey.</p>

          <p>Go to the <code>Upload a New File</code> button and upload all your <code>.mp4</code> files</p>

          <h2>Step 2: Creating your spreadsheet</h2>

          <p>I use Excel for this, but any spreadsheet software should work.</p>

          <p>Set up a spreadsheet that looks like this, with a row for each of your stimuli. See the column and row labels. We will use these later.</p>

          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th></th>
                <th>A</th>
                <th>B</th>
                <th>C</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Video Name</td>
                <td>File ID</td>
                <td>HTML</td>
              </tr>
              <tr>
                <td>2</td>
                <td>001</td>
                <td></td>
                <td></td>
              </tr>
              <tr>
                <td>3</td>
                <td>002</td>
                <td></td>
                <td></td>
              </tr>
              <tr>
                <td></td>
                <td>â€¦</td>
                <td></td>
                <td></td>
              </tr>
            </tbody>
          </table>

          <p>We will now fill out each of these columns</p>

          <h2><a id="Step_3_Getting_your_File_IDs_30"></a>Step 3: Getting your File IDs</h2>

          <p>Go back to your Qualtrics Library. Click on the first video <code>001.mp4</code>, and click <code>View</code>.</p>

          <p>The video should open in a new tab with a URL that ends with <code>F={{FILE ID}}</code>, where the <code>FILE ID</code> starts with a <code>F_</code>.</p>

          <p>Copy that file ID and paste it into the second column of your spreadsheet. Repeat for each video.</p>

          <h2></a>Step 4: Creating your Question Block</h2>

          <p>Now go into your survey. Create the question as you would like it to appear for <code>001.mp4</code>.  For example, the HTML view for a centered video with full width and automatic height might look like this:</p>

          <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;video</span> <span style="color: #FF0000">class=</span><span style="color: #0000FF">&quot;qmedia&quot;</span> <span style="color: #FF0000">controls=</span><span style="color: #0000FF">&quot;true&quot;</span> <span style="color: #FF0000">height=</span><span style="color: #0000FF">&quot;auto&quot;</span> <span style="color: #FF0000">preload=</span><span style="color: #0000FF">&quot;auto&quot;</span> <span style="color: #FF0000">width=</span><span style="color: #0000FF">&quot;100%&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;source</span> <span style="color: #FF0000">src=</span><span style="color: #0000FF">&quot;{{URL HERE ENDING WITH FILE ID}}&quot;</span> <span style="color: #FF0000">type=</span><span style="color: #0000FF">&quot;video/mp4&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;embed</span> <span style="color: #FF0000">align=</span><span style="color: #0000FF">&quot;middle&quot;</span> <span style="color: #FF0000">autoplay=</span><span style="color: #0000FF">&quot;false&quot;</span> <span style="color: #FF0000">bgcolor=</span><span style="color: #0000FF">&quot;white&quot;</span> <span style="color: #FF0000">class=</span><span style="color: #0000FF">&quot;qmedia&quot;</span> <span style="color: #FF0000">controller=</span><span style="color: #0000FF">&quot;true&quot;</span> <span style="color: #FF0000">height=</span><span style="color: #0000FF">&quot;auto&quot;</span> <span style="color: #FF0000">pluginspage=</span><span style="color: #0000FF">&quot;http://www.apple.com/quicktime/download/&quot;</span>  <span style="color: #FF0000">src=</span><span style="color: #0000FF">&quot;{{URL HERE ENDING WITH FILE ID}}&quot;</span> <span style="color: #FF0000">type=</span><span style="color: #0000FF">&quot;video/quicktime&quot;</span> <span style="color: #FF0000">width=</span><span style="color: #0000FF">&quot;100%&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/video&gt;</span>
</pre></div><br>

          <p>Do you see where the URL appears in the HTML? The File IDs that we copied in Step 3 are the ending of that URL. Ideally, we want to change those File IDs at each iteration to match the ID for each video.</p>

          <h2><a id="Step_5_Creating_your_HTML_46"></a>Step 5: Creating your HTML</h2>

          <p>Unfortunately, we cannot simply insert the new File ID in the middle of the HTML. So here is the work-around and the reason we need a spreadsheet.</p>

          <p>Copy the HTML for your question into a text editor that allows you to Find and Replace.</p>

          <p>For this text to be a valid equation, we need to make a few replacements.</p>

          <ul>
            <li class="has-line-data" data-line-start="53" data-line-end="54">Quotes (<code>&quot;&quot;</code>) are special characters in equations, so we need to replace each <code>&quot;</code> with a double quote <code>&quot;&quot;</code></li>
            <li class="has-line-data" data-line-start="54" data-line-end="55">We cannot have an equation that is this long, so we need to add some concatenation symbols. Every ~200 characters in your equation, replace a space <code></code> with <code>&quot; &amp; &quot;</code></li>
            <li class="has-line-data" data-line-start="55" data-line-end="57">Add an <code>=</code> to the beginning of the line</li>
          </ul>

          <p>For example, the HTML example from above would become:</p>

          <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">=<span style="color: #000080; font-weight: bold">&lt;video</span> <span style="color: #FF0000">class=</span><span style="color: #0000FF">&quot;&quot;qmedia&quot;&quot;</span> <span style="color: #FF0000">controls=</span><span style="color: #0000FF">&quot;&quot;true&quot;&quot;</span> <span style="color: #FF0000">height=</span><span style="color: #0000FF">&quot;&quot;auto&quot;&quot;</span> <span style="color: #FF0000">preload=</span><span style="color: #0000FF">&quot;&quot;auto&quot;&quot;</span> <span style="color: #FF0000">width=</span><span style="color: #0000FF">&quot;&quot;100%&quot;&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
            <span style="color: #000080; font-weight: bold">&lt;source</span> <span style="color: #FF0000">src=</span><span style="color: #0000FF">&quot;&quot;{{URL HERE ENDING WITH FILE ID}}&quot;&quot;</span> <span style="color: #a61717; background-color: #e3d2d2">&quot;</span> <span style="color: #a61717; background-color: #e3d2d2">&amp;</span> <span style="color: #a61717; background-color: #e3d2d2">&quot;</span> <span style="color: #FF0000">type=</span><span style="color: #0000FF">&quot;&quot;video/mp4&quot;&quot;</span><span style="color: #000080; font-weight: bold">&gt;&lt;embed</span> <span style="color: #FF0000">align=</span><span style="color: #0000FF">&quot;&quot;middle&quot;&quot;</span> <span style="color: #FF0000">autoplay=</span><span style="color: #0000FF">&quot;&quot;false&quot;&quot;</span> <span style="color: #FF0000">bgcolor=</span><span style="color: #0000FF">&quot;&quot;white&quot;&quot;</span> <span style="color: #FF0000">class=</span><span style="color: #0000FF">&quot;&quot;qmedia&quot;&quot;</span> <span style="color: #FF0000">controller=</span><span style="color: #0000FF">&quot;&quot;true&quot;&quot;</span> <span style="color: #FF0000">height=</span><span style="color: #0000FF">&quot;&quot;auto&quot;&quot;</span> <span style="color: #a61717; background-color: #e3d2d2">&quot;</span> <span style="color: #a61717; background-color: #e3d2d2">&amp;</span> <span style="color: #a61717; background-color: #e3d2d2">&quot;</span> <span style="color: #FF0000">pluginspage=</span><span style="color: #0000FF">&quot;&quot;http://www.apple.com/quicktime/download/&quot;&quot;</span>  <span style="color: #FF0000">src=</span><span style="color: #0000FF">&quot;&quot;{{URL HERE ENDING WITH FILE ID}}&quot;&quot;</span> <span style="color: #FF0000">type=</span><span style="color: #0000FF">&quot;&quot;video/quicktime&quot;&quot;</span> <span style="color: #a61717; background-color: #e3d2d2">&quot;&quot;</span> <span style="color: #a61717; background-color: #e3d2d2">&amp;</span> <span style="color: #a61717; background-color: #e3d2d2">&quot;&quot;</span> <span style="color: #FF0000">width=</span><span style="color: #0000FF">&quot;100%&quot;</span><span style="color: #000080; font-weight: bold">&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/video&gt;</span>
</pre></div><br>

          <p>Now look at your spreadsheet. Your first File ID is located in cell <code>B2</code>.</p>

          <p>**Find the File ID in your HTML and replace it with <code>&quot; &amp; B2 &amp; &quot;</code>. **</p>

          <p>You are now ready to copy your equation into cell <code>C2</code>. The File ID from video <code>001.mp4</code> should automatically be populated into cell <code>C2</code>. If you drag this equation down column <code>C</code>, you now have all your HTMLs!</p>

          <h2>Step 6: Question Randomization</h2>

          <p>Unfortunately, the default randomization within Loop &amp; Merge in Qualtrics does not have a way of ensuring that each stimuli is shown an equal number of times. The way to achieve this is complicated, and credit to <a href="https://stackoverflow.com/questions/31957481/loop-and-merge-in-qualtrics-random-equal-allocation">this</a> for the idea.</p>

          <p>Before the question block, add another question block. This question will be hidden and will just function as a way to randomly choose the subset of stimuli each participant will view.</p>

          <p>Create a multiple choice question in your question block. In the question text, go to HTML view and paste this text</p>

          <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;script&gt;</span>
      Qualtrics.SurveyEngine.addOnload(<span style="color: #000080; font-weight: bold">function</span>() {
      <span style="color: #000080; font-weight: bold">var</span> questionDiv = <span style="color: #000080; font-weight: bold">this</span>.getQuestionContainer();
      questionDiv.style.display = <span style="color: #0000FF">&quot;none&quot;</span>;
      <span style="color: #000080; font-weight: bold">this</span>.clickNextButton();});
<span style="color: #000080; font-weight: bold">&lt;/script&gt;</span>
</pre></div><br>

          <p>This will ensure that this whole block will be hidden from your participants.</p>

          <p>Now copy <code>Column C</code> in your spreadsheet from <code>Row 2</code> down. Click into the first of the multiple choice answers and paste. This will create an answer choice for each of your stimuli. It may take a long time to save the survey, so be patient with it.</p>

          <p>Next click on the gear icon next to the question and go to <code>Randomization</code>. Click <code>Advanced Randomization -&gt; Set Up Advanced Randomization</code>.</p>

          <p>On the left side of this window, you should see all the choices, one for each stimuli. The middle box on the right side titled <code>Random Subset</code> has a right arrow next to it. Click this right arrow until all your choices are populated in the <code>Random Subset</code> box. Click <code>Evenly Display Choices</code> and put in the number of stimuli you want to present to each participant. Hit <code>Save</code> twice.</p>

          <p>This means that your hidden question will randomly choose a subset of your stimuli.</p>

          <h2>Step 7: Completing the Loop &amp; Merge</h2>

          <p>Now we need to ask a question for each of these stimuli</p>

          <p>Go to <code>Block Options -&gt; Loop &amp; Merge</code> in your question block, and turn on Loop &amp; Merge.</p>

          <p>Click <code>Loop based off a question</code> and then select your hidden question. In the second drop-down, select <code>Displayed Choices</code>.  A large number of blue rows should appear, one row for each stimuli.</p>

          <p>Hit <code>Save</code>.</p>

          <p>Now in your question text, you can put something like this to display the Question Number as well as the stimuli.</p>

          <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">Question <span style="color: #0000FF">$</span>{lm://CurrentLoopNumber} out of <span style="color: #0000FF">10</span>

            <span style="color: #0000FF">$</span>{lm://Field/1}
</pre></div><br>

          <p class="has-line-data" data-line-start="113" data-line-end="114">Test our your new set of questions by hitting <code>Preview</code> at the top and trying out your survey</p>
          <p class="has-line-data" data-line-start="116" data-line-end="118"><em>Last updated: October 2020</em><br>
            <em>Originally published: July 2020</em></p>
          </article>
        </div>
      </div>

      <div id="copyright" class="container">
        <ul class="menu">
          <li><a href="https://html5up.net/telephasic">Telephasic Template by HTML5 UP</a></li>
        </ul>
      </div>
    </div>

    <!-- Scripts -->
    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/jquery.dropotron.min.js"></script>
    <script src="../assets/js/browser.min.js"></script>
    <script src="../assets/js/breakpoints.min.js"></script>
    <script src="../assets/js/util.js"></script>
    <script src="../assets/js/main.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
  </html>
